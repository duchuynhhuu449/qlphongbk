(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={room:"Room_room__3dn-v","edit-room":"Room_edit-room__2UOE_","time-container":"Room_time-container__1cqrG","btn-container":"Room_btn-container__3bsDN","btn-top":"Room_btn-top__3f26V","check-in":"Room_check-in__uGDzQ","check-out":"Room_check-out__245g2",button:"Room_button__3GK7E","btn-calculate":"Room_btn-calculate__12o8-",calculate:"Room_calculate__NsbGe",borderRun:"Room_borderRun__1BOZk","calculate-header":"Room_calculate-header__2oNqo","room-info":"Room_room-info__1i3is","check-in-time":"Room_check-in-time__P7-KB","check-out-time":"Room_check-out-time__2e3DF","total-amount":"Room_total-amount__2ZyRh",title:"Room_title__2iwMF","additional-note":"Room_additional-note__w53VK",control:"Room_control__1S4n6","footer-note":"Room_footer-note__307lz","title-table":"Room_title-table__3aXL3","filter-container":"Room_filter-container__3TJ1h"}},,,,,,function(e,t,n){e.exports={App:"App_App__1vo9O",borderRun:"App_borderRun__2iWKz"}},function(e,t,n){e.exports={header:"Header_header__1jUDE",header__nav:"Header_header__nav__2dn1u",header__menu:"Header_header__menu__31mMF",header__item:"Header_header__item__2tILp",header__link:"Header_header__link__SinI9"}},function(e,t,n){e.exports={"title-table":"History_title-table__228zP","history-table":"History_history-table__IC4Mj","add-room":"History_add-room__XPnpc",pagination:"History_pagination__2zJno",notification:"History_notification__-NJI2",controls:"History_controls__-CZIH"}},function(e,t,n){e.exports={"title-table":"ListRoomDetail_title-table__ml7io",control:"ListRoomDetail_control__3Ezzv","add-room":"ListRoomDetail_add-room__33fcw",telegram:"ListRoomDetail_telegram__2Vxns","history-table":"ListRoomDetail_history-table__1vKnO",pagination:"ListRoomDetail_pagination__1xP6h",notification:"ListRoomDetail_notification__2XcTJ",controls:"ListRoomDetail_controls__16woz"}},function(e,t,n){e.exports={container:"AddRoom_container__2M6M9",title:"AddRoom_title__3u_SX",form:"AddRoom_form__1RRjs",formGroup:"AddRoom_formGroup__3GaUv",label:"AddRoom_label__2wxth",input:"AddRoom_input__1MztV",button:"AddRoom_button__2XxF9",message:"AddRoom_message__2miCS"}},function(e,t,n){e.exports={container:"Telegram_container__2LSO1","image-wrapper":"Telegram_image-wrapper__3hNmw",image:"Telegram_image__2Wx52",header:"Telegram_header__3ISEH",intro:"Telegram_intro__dcMgh",spacer:"Telegram_spacer__SN81I",step:"Telegram_step__agFSe",instruction:"Telegram_instruction__1Vy5q",example:"Telegram_example__3_Ixs",note:"Telegram_note__2HcRx",detail:"Telegram_detail__24UQ5",response:"Telegram_response__228LW",footer:"Telegram_footer__3rfZr"}},function(e,t,n){e.exports={search:"Room_search__aVuJX","title-table":"Room_title-table__3a3Ee","water-table-history-table":"Room_water-table-history-table__2ujk4","room-item":"Room_room-item__1g_o5","plus-minus-button":"Room_plus-minus-button__2-584",icon:"Room_icon__PY6Iu","water-table-pagination":"Room_water-table-pagination__2252z","water-table-notification":"Room_water-table-notification__3cwnB","water-table-controls":"Room_water-table-controls__NPaqh"}},function(e,t,n){e.exports={container:"AddRoomMonth_container__2uQBT",title:"AddRoomMonth_title__3m1W5",form:"AddRoomMonth_form__YIc8x",formGroup:"AddRoomMonth_formGroup__1wN6m",label:"AddRoomMonth_label__3rlyw",input:"AddRoomMonth_input__bPdOM",control:"AddRoomMonth_control__2KH-h",button:"AddRoomMonth_button__3D-hd",message:"AddRoomMonth_message__3nk94"}},function(e,t,n){e.exports={container:"AdjustRoom_container__385Ji",title:"AdjustRoom_title__33BYK",form:"AdjustRoom_form__3TEOn",formGroup:"AdjustRoom_formGroup__3lZkF",label:"AdjustRoom_label__P0DyX",input:"AdjustRoom_input__WsTMm",control:"AdjustRoom_control__3BKud",button:"AdjustRoom_button__3u51z",message:"AdjustRoom_message__1QMLd"}},function(e,t,n){e.exports={"invoice-container":"PaymentInfo_invoice-container__8MVfW","invoice-title":"PaymentInfo_invoice-title__11WgS","invoice-summary":"PaymentInfo_invoice-summary__1P9ND","summary-item":"PaymentInfo_summary-item__2VuQ7","btn-summary":"PaymentInfo_btn-summary__3lvE-","btn-total":"PaymentInfo_btn-total__1oEO1","btn-refresh":"PaymentInfo_btn-refresh__3Om1H","btn-back":"PaymentInfo_btn-back__15h45",refresh:"PaymentInfo_refresh__3ELEp","invoice-list":"PaymentInfo_invoice-list__10HsF","invoice-card":"PaymentInfo_invoice-card__IZ8w3","customer-name":"PaymentInfo_customer-name__mpk_C","invoice-info":"PaymentInfo_invoice-info__1KHji","invoice-charges":"PaymentInfo_invoice-charges__2X9b4",divider:"PaymentInfo_divider__3ypoz","invoice-info-item":"PaymentInfo_invoice-info-item__wX7f1","info-line":"PaymentInfo_info-line__2tyYB","charge-line":"PaymentInfo_charge-line__35bUn","total-amount":"PaymentInfo_total-amount__KxI6-",result:"PaymentInfo_result__C1cke","result-item":"PaymentInfo_result-item__2HAsp"}},function(e,t,n){e.exports={container:"TotalPaymentInfo_container__IapsC",center:"TotalPaymentInfo_center__3V9Fq","summary-item":"TotalPaymentInfo_summary-item__3czLD","btn-summary":"TotalPaymentInfo_btn-summary__5wW_y","btn-total":"TotalPaymentInfo_btn-total__3qdz1",result:"TotalPaymentInfo_result__3Lb7s","result-item":"TotalPaymentInfo_result-item__1YjMp"}},function(e,t,n){e.exports={search:"ListWater_search__1kSQX","title-table":"ListWater_title-table__2mf65","water-table-history-table":"ListWater_water-table-history-table__2cswU","plus-minus-button":"ListWater_plus-minus-button__1Rrs8","water-table-pagination":"ListWater_water-table-pagination__3SGE1","water-table-notification":"ListWater_water-table-notification__26L_G","water-table-controls":"ListWater_water-table-controls__1KLWs"}},function(e,t,n){e.exports={search:"Inventory_search__2uETV",news:"Inventory_news__2U8HP","title-table":"Inventory_title-table__wiBor","water-table-history-table":"Inventory_water-table-history-table__2gojk","water-table-pagination":"Inventory_water-table-pagination___jlke","water-table-notification":"Inventory_water-table-notification__259yr","water-table-controls":"Inventory_water-table-controls__1INCz"}},function(e,t,n){e.exports={overlay:"modal_overlay__2wYXf","modal-parent":"modal_modal-parent__2mNpV","modal-content":"modal_modal-content__26qwn","modal-close":"modal_modal-close__2J9y6"}},,,,,,,function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(15),i=n.n(a),o=(n(36),n(4)),l=n.n(o),r=n(16),h=n.n(r),j=n(17),d=n.n(j),m=n(18),u=n.n(m);const b=n(45).a.create({baseURL:"http://localhost:3000",timeout:1e4}),g=async(e,t)=>{try{return(await e).data}catch(s){var n,c;const e=(null===(n=s.response)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.message)||t||"C\xf3 l\u1ed7i x\u1ea3y ra!";throw new Error(e)}},x=(e,t)=>g(b.post("/api/edit-room",{roomNumber:e,newDetails:t}),"L\u1ed7i khi ch\u1ec9nh s\u1eeda ph\xf2ng"),p=async()=>{const e=await g(b.get("/api/rooms"),"L\u1ed7i khi l\u1ea5y danh s\xe1ch ph\xf2ng");return e&&localStorage.setItem("rooms",JSON.stringify(e)),e},O=e=>{const t="all"===e?"/api/history/all":`/api/history/${e}`;return g(b.get(t),"L\u1ed7i khi l\u1ea5y l\u1ecbch s\u1eed ph\xf2ng")},_=(e,t)=>g(b.put(`/api/update/${e}/v2`,t),"L\u1ed7i khi c\u1eadp nh\u1eadt ph\xf2ng");var N=n(5);n(14);function v(e){if(!/^\d{2}-\d{2}-\d{4}$/.test(e))return"";const[t,n,c]=e.split("-");return`${c}-${n}-${t}`}const f=e=>{if(!e)return"";const[t,n,c]=e.split(" ")[0].split("-");return c+"-"+n+"-"+t},y=e=>{if(!e)return"";const[,t]=e.split(" ");return(null===t||void 0===t?void 0:t.substring(0,5))||""};var k=n(0);const S=l.a.bind(u.a);var C=function(){const[e,t]=Object(c.useState)([]),[n,s]=Object(c.useState)(1);Object(c.useEffect)((()=>{(async()=>{const e=await O("all"),n=await e.sort(((e,t)=>new Date(t.checkOutDate)-new Date(e.checkInDate)));t(n)})()}),[]),console.log(e);const a=5*n,i=a-5,o=e.slice(i,a),l=()=>Math.ceil(e.length/5);return Object(c.useEffect)((()=>{Object(N.a)("#startTime",{enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,minuteIncrement:60}),Object(N.a)("#endTime",{enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,minuteIncrement:60}),Object(N.a)("#startDate",{dateFormat:"d-m-Y",maxDate:"today"}),Object(N.a)("#endDate",{dateFormat:"d-m-Y"})}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:S("title-table"),children:"L\u1ecbch S\u1eed Thu\xea Ph\xf2ng"}),Object(k.jsxs)("table",{className:S("history-table"),children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"S\u1ed1 Ph\xf2ng"}),Object(k.jsx)("th",{children:"Ng\xe0y V\xe0o"}),Object(k.jsx)("th",{children:"Ng\xe0y Ra"}),Object(k.jsx)("th",{children:"T\u1ed5ng Ti\u1ec1n"}),Object(k.jsx)("th",{children:"Ghi Ch\xfa"}),Object(k.jsx)("th",{children:"H\xe0nh \u0110\u1ed9ng"})]})}),Object(k.jsx)("tbody",{className:S("data"),children:o&&o.length>0?o.map(((n,c)=>Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:n.roomNumber}),Object(k.jsxs)("td",{children:["Ng\xe0y ",f(n.checkInDate)," ",y(n.checkInDate).split(":")[0]," gi\u1edd ",y(n.checkInDate).split(":")[1]," ph\xfat"]}),Object(k.jsxs)("td",{children:["Ng\xe0y ",f(n.checkOutDate)," ",y(n.checkOutDate).split(":")[0]," gi\u1edd ",y(n.checkOutDate).split(":")[1]," ph\xfat"]}),Object(k.jsx)("td",{children:n.totalAmount}),Object(k.jsx)("td",{dangerouslySetInnerHTML:{__html:n.description}}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{onClick:()=>(async n=>{try{if(200===(await O(n)).status){const c=e.filter((e=>e._id!==n));t(c)}else console.error("Kh\xf4ng th\u1ec3 x\xf3a l\u1ecbch s\u1eed, vui l\xf2ng th\u1eed l\u1ea1i.")}catch(c){console.error("L\u1ed7i khi x\xf3a l\u1ecbch s\u1eed:",c)}})(n._id),children:"X\xf3a"})})]},c))):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",style:{textAlign:"center",padding:"20px",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 b\u1ea3ng n\xe0o \u0111\u01b0\u1ee3c ghi"})})})]}),Object(k.jsxs)("div",{className:S("pagination"),children:[Object(k.jsx)("div",{className:S("notification"),children:Object(k.jsxs)("span",{children:["Trang ",n," of ",l()]})}),Object(k.jsxs)("div",{className:S("controls"),children:[Object(k.jsx)("button",{onClick:()=>{n>1&&s(n-1)},disabled:1===n,children:"Trang tr\u01b0\u1edbc"}),Object(k.jsx)("button",{onClick:()=>{n<l()&&s(n+1)},disabled:n===l(),children:"Trang sau"})]})]})]})},T=n(19),w=n.n(T);const P=Object(c.createContext)(),L=e=>{let{children:t}=e;const[n,s]=Object(c.useState)(!1),[a,i]=Object(c.useState)(null);return Object(k.jsx)(P.Provider,{value:{showModal:n,modalContent:a,openModal:e=>{i(e),s(!0)},closeModal:()=>{s(!1),i(null)}},children:t})},D=()=>Object(c.useContext)(P);var R=n(20),H=n.n(R);const G=l.a.bind(H.a);var I=function(){const[e,t]=Object(c.useState)({roomNumber:"",dailyprice:"",firstHour:"",extraHour:""}),[n,s]=Object(c.useState)(""),a=async t=>{const{roomNumber:n,dailyprice:c,firstHour:a,extraHour:i}=e;var o;if(n&&c&&a&&i)try{await(o=e,g(b.post("/api/addroom",{roomNumber:o.roomNumber,daily:o.dailyprice,firstHour:o.firstHour,extraHour:o.extraHour,checkInDate:"",checkOutDate:""}),"L\u1ed7i khi th\xeam ph\xf2ng"))&&s("Th\xeam ph\xf2ng th\xe0nh c\xf4ng!")}catch(l){console.error(l),s(l.message||"C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam ph\xf2ng!")}else s("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!")};return Object(k.jsxs)("div",{className:G("container"),children:[Object(k.jsx)("h2",{className:G("title"),children:"Th\xeam Ph\xf2ng M\u1edbi"}),Object(k.jsxs)("form",{className:G("form"),id:"roomForm",children:[Object(k.jsxs)("div",{className:G("formGroup"),children:[Object(k.jsx)("label",{className:G("label"),children:"S\u1ed1 ph\xf2ng:"}),Object(k.jsx)("input",{value:e.roomNumber||"",onChange:e=>t((t=>({...t,roomNumber:e.target.value}))),type:"number",id:"roomNumber",required:!0,className:G("input")})]}),Object(k.jsxs)("div",{className:G("formGroup"),children:[Object(k.jsx)("label",{className:G("label"),children:"Gi\xe1 ph\xf2ng ng\xe0y:"}),Object(k.jsx)("input",{value:e.dailyprice||"",onChange:e=>t((t=>({...t,dailyprice:e.target.value}))),type:"number",id:"daily",required:!0,className:G("input")})]}),Object(k.jsxs)("div",{className:G("formGroup"),children:[Object(k.jsx)("label",{className:G("label"),children:"Gi\u1edd \u0111\u1ea7u ti\xean:"}),Object(k.jsx)("input",{value:e.firstHour||"",onChange:e=>t((t=>({...t,firstHour:e.target.value}))),type:"number",id:"firstHour",required:!0,className:G("input")})]}),Object(k.jsxs)("div",{className:G("formGroup"),children:[Object(k.jsx)("label",{className:G("label"),children:"Gi\xe1 th\xeam gi\u1edd:"}),Object(k.jsx)("input",{value:e.extraHour||"",onChange:e=>t((t=>({...t,extraHour:e.target.value}))),type:"number",id:"extraHour",required:!0,className:G("input")})]}),Object(k.jsx)("button",{type:"button",onClick:()=>a(),className:G("button"),children:"Th\xeam Ph\xf2ng"})]}),Object(k.jsx)("p",{id:"message",className:G("message"),children:n})]})},M=n(21),$=n.n(M);const A=l.a.bind($.a),E=()=>Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:A("container"),children:[Object(k.jsx)("div",{className:A("image-wrapper"),children:Object(k.jsx)("img",{src:"./telegram.png",alt:"M\xe3 QR Telegram",className:A("image")})}),Object(k.jsxs)("span",{className:A("header"),children:["\ud83d\udcf2"," ",Object(k.jsx)("strong",{children:"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi bot t\xednh ti\u1ec1n ph\xf2ng HataHomeStay tr\xean Telegram!"})]}),Object(k.jsxs)("span",{className:A("instruction"),children:["Bot n\xe0y \u0111\u01b0\u1ee3c t\u1ea1o ra \u0111\u1ec3 gi\xfap b\u1ea1n g\u1eedi ch\u1ec9 s\u1ed1 \u0111i\u1ec7n, n\u01b0\u1edbc h\xe0ng th\xe1ng m\u1ed9t c\xe1ch ",Object(k.jsx)("strong",{children:"nhanh ch\xf3ng"})," v\xe0 ",Object(k.jsx)("strong",{children:"ch\xednh x\xe1c"}),". D\u01b0\u1edbi \u0111\xe2y l\xe0 h\u01b0\u1edbng d\u1eabn chi ti\u1ebft:"]}),Object(k.jsxs)("span",{className:A("step"),children:["\ud83d\udd39 ",Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 1:"})," M\u1edf \u1ee9ng d\u1ee5ng ",Object(k.jsx)("em",{children:"Qu\xe9t m\xe3 QR"})," tr\xean \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n."]}),Object(k.jsxs)("span",{className:A("step"),children:["\ud83d\udd39 ",Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 2:"})," Qu\xe9t m\xe3 QR hi\u1ec3n th\u1ecb tr\xean m\xe0n h\xecnh ho\u1eb7c t\u1edd h\u01b0\u1edbng d\u1eabn. Telegram s\u1ebd t\u1ef1 \u0111\u1ed9ng m\u1edf bot c\xf3 t\xean ",Object(k.jsx)("em",{children:"HATAHOMESTAY_BOT"}),"."]}),Object(k.jsxs)("span",{className:A("step"),children:["\ud83d\udd39 ",Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 3:"})," Nh\u1ea5n n\xfat ",Object(k.jsx)("code",{children:"Start"})," \u0111\u1ec3 b\u1eaft \u0111\u1ea7u s\u1eed d\u1ee5ng bot."]}),Object(k.jsx)("span",{className:A("instruction"),children:"Sau khi kh\u1edfi \u0111\u1ed9ng bot, b\u1ea1n c\xf3 th\u1ec3 nh\u1eadp s\u1ed1 ph\xf2ng b\u1eb1ng c\xe1ch g\u1eedi l\u1ec7nh theo m\u1eabu:"}),Object(k.jsx)("span",{className:A("example"),children:Object(k.jsx)("code",{children:"/001"})}),Object(k.jsxs)("span",{className:A("detail"),children:["Trong \u0111\xf3 ",Object(k.jsx)("code",{children:"001"})," l\xe0 s\u1ed1 ph\xf2ng. Khi b\u1ea1n g\u1eedi l\u1ec7nh n\xe0y:",Object(k.jsx)("br",{}),"\u2013 Bot s\u1ebd ki\u1ec3m tra xem ph\xf2ng \u0111\xf3 c\xf3 t\u1ed3n t\u1ea1i hay kh\xf4ng.",Object(k.jsx)("br",{}),"\u2013 N\u1ebfu ph\xf2ng ",Object(k.jsx)("strong",{children:"ch\u01b0a c\xf3 th\u1eddi gian check-in"}),", bot s\u1ebd t\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt th\u1eddi gian v\xe0 th\xf4ng b\xe1o cho b\u1ea1n v\xe0 ch\u1ec9 c\u1ea7n g\u1eedi l\u1ea1i l\u1ec7nh c\u0169 h\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng t\xednh to\xe1n cho b\u1ea1n.",Object(k.jsx)("br",{}),"\u2013 N\u1ebfu ph\xf2ng ",Object(k.jsx)("strong",{children:"\u0111\xe3 c\xf3 th\u1eddi gian"}),", bot s\u1ebd t\u1ef1 \u0111\u1ed9ng t\xednh ti\u1ec1n d\u1ef1a tr\xean s\u1ed1 li\u1ec7u \u0111\xe3 c\xf3 trong danh s\xe1ch v\xe0 g\u1eedi l\u1ea1i th\xf4ng tin thanh to\xe1n ch\xednh x\xe1c.",Object(k.jsx)("br",{}),"\u2013 N\u1ebfu mu\u1ed1n reset th\u1eddi gian nh\u1eadn ph\xf2ng ch\u1ec9 c\u1ea7n g\u1eedi l\u1ec7nh ",Object(k.jsx)("strong",{children:"/sophong r, v\xed d\u1ee5: /001 r"}),", l\u1ec7nh n\xe0y h\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng x\xf3a th\u1eddi gian checkin v\xe0 s\u1eb5n s\xe0ng ch\u1edd l\u1ec7nh ti\u1ebfp theo."]}),Object(k.jsxs)("span",{className:A("footer"),children:["Bot HataHomeStay \u0111\u01b0\u1ee3c ph\xe1t tri\u1ec3n b\u1edfi ",Object(k.jsx)("strong",{children:"H\u1eefu \u0110\u1ee9c"}),". C\u1ea3m \u01a1n b\u1ea1n \u0111\xe3 s\u1eed d\u1ee5ng!"]})]})}),V=()=>Object(k.jsxs)("div",{className:A("container"),children:[Object(k.jsx)("div",{className:A("image-wrapper"),children:Object(k.jsx)("img",{src:"./telegram.png",alt:"M\xe3 QR Telegram",className:A("image")})}),Object(k.jsxs)("span",{className:A("header"),children:["\ud83d\udcf2"," ",Object(k.jsx)("strong",{children:"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi bot \u0111i\u1ec7n n\u01b0\u1edbc HataHomeStay tr\xean Telegram!"})]}),Object(k.jsx)("span",{className:A("intro"),children:"Bot n\xe0y gi\xfap b\u1ea1n g\u1eedi ch\u1ec9 s\u1ed1 \u0111i\u1ec7n, n\u01b0\u1edbc h\xe0ng th\xe1ng d\u1ec5 d\xe0ng v\xe0 ch\xednh x\xe1c. D\u01b0\u1edbi \u0111\xe2y l\xe0 h\u01b0\u1edbng d\u1eabn chi ti\u1ebft nh\xe9!"}),Object(k.jsx)("span",{className:A("spacer")}),Object(k.jsxs)("span",{className:A("step"),children:[Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 1:"})," D\xf9ng \u0111i\u1ec7n tho\u1ea1i m\u1edf \u1ee9ng d\u1ee5ng"," ",Object(k.jsx)("strong",{children:"Qu\xe9t m\xe3 QR"}),"."]}),Object(k.jsxs)("span",{className:A("step"),children:[Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 2:"})," Qu\xe9t m\xe3 QR hi\u1ec3n th\u1ecb tr\xean m\xe0n h\xecnh ho\u1eb7c t\u1edd h\u01b0\u1edbng d\u1eabn."]}),Object(k.jsxs)("span",{className:A("instruction"),children:["Sau khi qu\xe9t xong, Telegram s\u1ebd m\u1edf ra bot c\xf3 t\xean"," ",Object(k.jsx)("em",{children:"HATAHOMESTAY_BOT"}),"."]}),Object(k.jsxs)("span",{className:A("step"),children:[Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 3:"})," Nh\u1ea5n n\xfat ",Object(k.jsx)("code",{children:"Start"})," \u0111\u1ec3 b\u1eaft \u0111\u1ea7u s\u1eed d\u1ee5ng bot."]}),Object(k.jsx)("span",{className:A("instruction"),children:"Sau khi nh\u1ea5n Start, b\u1ea1n c\xf3 th\u1ec3 b\u1eaft \u0111\u1ea7u nh\u1eadp ch\u1ec9 s\u1ed1 \u0111i\u1ec7n n\u01b0\u1edbc m\u1ed7i th\xe1ng."}),Object(k.jsxs)("span",{className:A("step"),children:[Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 4:"})," G\u1eedi th\xf4ng tin theo \u0111\xfang m\u1eabu sau:"]}),Object(k.jsx)("span",{className:A("example"),children:Object(k.jsx)("code",{children:"001 15 223 1523"})}),Object(k.jsx)("span",{className:A("note"),children:"\ud83d\udcdd Gi\u1ea3i th\xedch:"}),Object(k.jsxs)("span",{className:A("detail"),children:["- ",Object(k.jsx)("code",{children:"001"}),": S\u1ed1 ph\xf2ng",Object(k.jsx)("br",{}),"- ",Object(k.jsx)("code",{children:"15"}),": S\u1ed1 n\u01b0\u1edbc n\xf3ng m\u1edbi",Object(k.jsx)("br",{}),"- ",Object(k.jsx)("code",{children:"223"}),": S\u1ed1 n\u01b0\u1edbc l\u1ea1nh m\u1edbi",Object(k.jsx)("br",{}),"- ",Object(k.jsx)("code",{children:"1523"}),": S\u1ed1 \u0111i\u1ec7n m\u1edbi"]}),Object(k.jsx)("span",{className:A("step"),children:"\u2705 B\u1ea1n c\xf3 th\u1ec3 g\u1eedi nhi\u1ec1u ph\xf2ng c\xf9ng l\xfac b\u1eb1ng c\xe1ch xu\u1ed1ng d\xf2ng, v\xed d\u1ee5:"}),Object(k.jsxs)("span",{className:A("example"),children:[Object(k.jsx)("code",{children:"001 15 223 1523"}),Object(k.jsx)("br",{}),Object(k.jsx)("code",{children:"002 14 210 1490"}),Object(k.jsx)("br",{}),Object(k.jsx)("code",{children:"003 12 190 1400"})]}),Object(k.jsx)("span",{className:A("instruction"),children:"M\u1ed7i d\xf2ng l\xe0 th\xf4ng tin c\u1ee7a 1 ph\xf2ng. Nh\u1edb nh\u1eadp \u0111\xfang th\u1ee9 t\u1ef1 nh\xe9!"}),Object(k.jsxs)("span",{className:A("response"),children:["Sau khi g\u1eedi, bot s\u1ebd ph\u1ea3n h\u1ed3i nh\u01b0: ",Object(k.jsx)("em",{children:'"\u0110\xe3 c\u1eadp nh\u1eadt cho ph\xf2ng 001"'}),', "ph\xf2ng 002", v.v...']}),Object(k.jsx)("span",{className:A("instruction"),children:"Bot s\u1ebd t\u1ef1 \u0111\u1ed9ng l\u01b0u l\u1ea1i. B\u1ea1n kh\xf4ng c\u1ea7n nh\u1eadp l\u1ea1i hay lo qu\xean!"}),Object(k.jsxs)("span",{className:A("step"),children:[Object(k.jsx)("strong",{children:"B\u01b0\u1edbc 5:"})," Quay l\u1ea1i trang danh s\xe1ch ph\xf2ng tr\xean h\u1ec7 th\u1ed1ng."]}),Object(k.jsx)("span",{className:A("instruction"),children:"C\xe1c ch\u1ec9 s\u1ed1 v\u1eeba nh\u1eadp s\u1ebd \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt t\u1ef1 \u0111\u1ed9ng. B\u1ea1n c\xf3 th\u1ec3 ki\u1ec3m tra l\u1ea1i v\xe0 t\u1ea1o h\xf3a \u0111\u01a1n ngay."}),Object(k.jsx)("span",{className:A("spacer")}),Object(k.jsxs)("span",{className:A("footer"),children:["Bot HataHomeStay \u0111\u01b0\u1ee3c ph\xe1t tri\u1ec3n b\u1edfi ",Object(k.jsx)("strong",{children:"H\u1eefu \u0110\u1ee9c"}),". C\u1ea3m \u01a1n b\u1ea1n \u0111\xe3 s\u1eed d\u1ee5ng!"]})]});var q=function(e){let{props:t}=e;return Object(k.jsxs)(k.Fragment,{children:[1===t&&Object(k.jsx)(V,{}),2===t&&Object(k.jsx)(E,{}),"all"===t&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(V,{}),Object(k.jsx)(E,{})]})]})};const B=l.a.bind(w.a);var F=function(){const{openModal:e}=D(),[t,n]=Object(c.useState)([]),[s,a]=Object(c.useState)(1);Object(c.useEffect)((()=>{(async()=>{const e=(await p()).sort(((e,t)=>e.roomNumber-t.roomNumber));n(e)})()}),[]);const i=5*s,o=i-5,l=t.slice(o,i),r=()=>Math.ceil(t.length/5);return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:B("title-table"),children:"Danh s\xe1ch ph\xf2ng c\u1ee5 th\u1ec3"}),Object(k.jsxs)("div",{className:B("control"),children:[Object(k.jsx)("button",{onClick:t=>{e(Object(k.jsx)(I,{}))},className:B("add-room"),children:"Th\xeam ph\xf2ng"}),Object(k.jsx)("button",{onClick:t=>{e(Object(k.jsx)(q,{props:2}))},className:B("telegram"),children:"\u0110i\u1ec1u khi\u1ec3n bot qua telegram"})]}),Object(k.jsxs)("table",{className:B("history-table"),children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"S\u1ed1 Ph\xf2ng"}),Object(k.jsx)("th",{children:"Gi\xe1 ph\xf2ng"}),Object(k.jsx)("th",{children:"L\u1ecbch s\u1eed thu\xea"}),Object(k.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(k.jsx)("tbody",{className:B("data"),children:l&&l.length>0?l.map(((t,n)=>Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{children:["Ph\xf2ng: ",String(t.roomNumber).padStart(3,"0")]}),Object(k.jsxs)("td",{children:[Object(k.jsxs)("span",{children:["Gi\xe1 ph\xf2ng ng\xe0y: ",t.daily.toLocaleString()," VN\u0110"]}),Object(k.jsxs)("span",{children:["Gi\xe1 ph\xf2ng gi\u1edd \u0111\u1ea7u: ",t.firstHour.toLocaleString()," VN\u0110"]}),Object(k.jsxs)("span",{children:[" Gi\xe1 ph\xf2ng gi\u1edd \u0111\u1ea7u: ",t.extraHour.toLocaleString()," VN\u0110"]})]}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{onClick:t=>{e(Object(k.jsx)(C,{}))},children:"Xem ngay"})}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{onClick:e=>(async e=>{await x(e,{deleted:!0})&&window.location.reload()})(t._id),children:"X\xf3a"})})]},n))):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",style:{textAlign:"center",padding:"20px",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 b\u1ea3ng n\xe0o \u0111\u01b0\u1ee3c ghi"})})})]}),Object(k.jsxs)("div",{className:B("pagination"),children:[Object(k.jsx)("div",{className:B("notification"),children:Object(k.jsxs)("span",{children:["Trang ",s," of ",r()]})}),Object(k.jsxs)("div",{className:B("controls"),children:[Object(k.jsx)("button",{onClick:()=>{s>1&&a(s-1)},disabled:1===s,children:"Trang tr\u01b0\u1edbc"}),Object(k.jsx)("button",{onClick:()=>{s<r()&&a(s+1)},disabled:s===r(),children:"Trang sau"})]})]})]})},Q=n(22),K=n.n(Q),W=n(23),z=n.n(W);const X=l.a.bind(z.a);var Y=function(){const[e,t]=Object(c.useState)({}),[n,s]=Object(c.useState)({}),[a,i]=Object(c.useState)(""),{openModal:o}=D(),l=async()=>{if(console.log(e),e.hovaten&&e.SoPhong&&e.GiaPhong&&e.sinhhoatchung)try{await(n=e,g(b.post("/api/addroom/v2",{hovaten:n.hovaten,SoPhong:n.SoPhong,GiaPhong:n.GiaPhong,chisodiencu:n.chisodiencu||0,chisodienmoi:0,chisonuoclanhcu:n.chisonuoclanhcu||0,chisonuoclanhmoi:0,chisonuocnongcu:n.chisonuocnongcu||0,chisonuocnongmoi:0,sinhhoatchung:n.sinhhoatchung||0,ghichu:"Ch\u01b0a c\xf3 ghi ch\xfa"}),"L\u1ed7i khi th\xeam ph\xf2ng m\u1edbi"))&&(t({}),setTimeout((()=>{i("")}),3e3),i("Th\xeam ph\xf2ng th\xe0nh c\xf4ng!"))}catch(c){i(c.message)}var n};return Object(c.useEffect)((()=>{["GiaPhong","sinhhoatchung"].forEach((t=>{if(e[t]){const n=(e=>{const t=e.replace(/\./g,"");return(parseInt(t,10)||0).toLocaleString()})(e[t]);s((e=>({...e,[t]:n})))}}))}),[e]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:X("container"),children:[Object(k.jsx)("h2",{className:X("title"),children:"Th\xeam Ph\xf2ng M\u1edbi"}),Object(k.jsxs)("form",{className:X("form"),id:"roomForm",children:[Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi thu\xea ph\xf2ng"}),Object(k.jsx)("input",{value:e.hovaten||"",onChange:e=>t((t=>({...t,hovaten:e.target.value}))),type:"text",id:"hovaten",required:!0,className:X("input")})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"S\u1ed1 Ph\xf2ng"}),Object(k.jsx)("input",{value:e.SoPhong||"",onChange:e=>t((t=>({...t,SoPhong:e.target.value}))),type:"number",id:"SoPhong",required:!0,className:X("input")})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"Gi\xe1 ph\xf2ng th\xe1ng"}),Object(k.jsx)("input",{value:e.GiaPhong||"",onChange:e=>t((t=>({...t,GiaPhong:e.target.value}))),type:"number",id:"GiaPhong",required:!0,className:X("input")}),Object(k.jsx)("span",{children:n.GiaPhong||""})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"Ph\xed sinh ho\u1ea1t:"}),Object(k.jsx)("input",{value:e.sinhhoatchung||"",onChange:e=>t((t=>({...t,sinhhoatchung:e.target.value}))),type:"number",id:"sinhhoatchung",required:!0,className:X("input")}),Object(k.jsx)("span",{children:n.sinhhoatchung||""})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"Ch\u1ec9 s\u1ed1 \u0111i\u1ec7n c\u0169"}),Object(k.jsx)("input",{value:e.chisodiencu||"",onChange:e=>t((t=>({...t,chisodiencu:e.target.value}))),type:"number",id:"chisodien",required:!0,className:X("input")})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc n\xf3ng c\u0169"}),Object(k.jsx)("input",{value:e.chisonuocnongcu||"",onChange:e=>t((t=>({...t,chisonuocnongcu:e.target.value}))),type:"number",id:"chisonuocnongcu",required:!0,className:X("input")})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc l\u1ea1nh c\u0169"}),Object(k.jsx)("input",{value:e.chisonuoclanhcu||"",onChange:e=>t((t=>({...t,chisonuoclanhcu:e.target.value}))),type:"number",id:"chisonuoclanhcu",required:!0,className:X("input")})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc n\xf3ng m\u1edbi"}),Object(k.jsx)("input",{value:e.chisonuocnongmoi||"",onChange:e=>t((t=>({...t,chisonuocnongmoi:e.target.value}))),type:"number",id:"chisonuoclanhcu",required:!0,className:X("input")})]}),Object(k.jsxs)("div",{className:X("formGroup"),children:[Object(k.jsx)("label",{className:X("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc l\u1ea1nh m\u1edbi"}),Object(k.jsx)("input",{value:e.chisonuoclanhmoi||"",onChange:e=>t((t=>({...t,chisonuoclanhmoi:e.target.value}))),type:"number",id:"chisonuoclanhcu",required:!0,className:X("input")})]}),Object(k.jsxs)("div",{className:X("control"),children:[Object(k.jsx)("button",{type:"button",onClick:()=>{o(Object(k.jsx)(je,{}))},className:X("button"),children:"Quay l\u1ea1i"}),Object(k.jsx)("button",{type:"button",onClick:()=>l(),className:X("button"),children:"Th\xeam Ph\xf2ng"})]})]}),Object(k.jsx)("p",{id:"message",className:X("message"),children:a})]})})},U=n(11),J=n(24),Z=n.n(J);const ee=l.a.bind(Z.a);var te=function(e){let{props:t}=e;const[n,s]=Object(c.useState)({}),[a,i]=Object(c.useState)({}),[o,l]=Object(c.useState)(""),{openModal:r}=D();return Object(c.useEffect)((()=>{s({hovaten:t.hovaten,GiaPhong:t.GiaPhong,chisodiencu:t.chisodiencu,chisodienmoi:t.chisodienmoi,chisonuoclanhcu:t.chisonuoclanhcu,chisonuoclanhmoi:t.chisonuoclanhmoi,chisonuocnongcu:t.chisonuocnongcu,chisonuocnongmoi:t.chisonuocnongmoi,sinhhoatchung:t.sinhhoatchung,ghichu:t.ghichu})}),[t]),Object(c.useEffect)((()=>{["GiaPhong","sinhhoatchung"].forEach((e=>{if(n[e]){const t=(e=>{const t=e.replace(/\./g,"");return(parseInt(t,10)||0).toLocaleString()})(n[e]);i((n=>({...n,[e]:t})))}}))}),[t]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:ee("container"),children:[Object(k.jsxs)("h2",{className:ee("title"),children:["C\u1eadp nh\u1eadt ph\xf2ng - ",t.SoPhong]}),Object(k.jsxs)("form",{className:ee("form"),id:"roomForm",children:[Object(k.jsxs)("div",{className:ee("formGroup"),children:[Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"H\u1ecd v\xe0 t\xean"}),Object(k.jsx)("input",{value:n.hovaten||"",onChange:e=>s((t=>({...t,hovaten:e.target.value}))),type:"text",id:"hovaten",required:!0,className:ee("input")}),Object(k.jsx)("span",{children:a.sinhhoatchung||""})]}),Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"S\u1ed1 Ph\xf2ng"}),Object(k.jsx)("input",{value:t.SoPhong,type:"number",id:"SoPhong",disabled:!0,className:ee("input")})]})]}),Object(k.jsxs)("div",{className:ee("formGroup"),children:[Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Gi\xe1 ph\xf2ng th\xe1ng"}),Object(k.jsx)("input",{value:n.GiaPhong||"",onChange:e=>s((t=>({...t,GiaPhong:e.target.value}))),type:"number",id:"GiaPhong",required:!0,className:ee("input")}),Object(k.jsx)("span",{children:a.GiaPhong||""})]}),Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Ph\xed sinh ho\u1ea1t"}),Object(k.jsx)("input",{value:n.sinhhoatchung||"",onChange:e=>s((t=>({...t,sinhhoatchung:e.target.value}))),type:"number",id:"sinhhoatchung",required:!0,className:ee("input")}),Object(k.jsx)("span",{children:a.sinhhoatchung||""})]})]}),Object(k.jsxs)("div",{className:ee("formGroup"),children:[Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Ch\u1ec9 s\u1ed1 \u0111i\u1ec7n c\u0169"}),Object(k.jsx)("input",{value:n.chisodiencu||"",onChange:e=>s((t=>({...t,chisodiencu:e.target.value}))),type:"number",id:"chisodien",required:!0,className:ee("input")})]}),Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Ch\u1ec9 s\u1ed1 \u0111i\u1ec7n m\u1edbi"}),Object(k.jsx)("input",{value:n.chisodienmoi||"",onChange:e=>s((t=>({...t,chisodienmoi:e.target.value}))),type:"number",id:"chisodien",required:!0,className:ee("input")})]})]}),Object(k.jsxs)("div",{className:ee("formGroup"),children:[Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc n\xf3ng c\u0169"}),Object(k.jsx)("input",{value:n.chisonuocnongcu||"",onChange:e=>s((t=>({...t,chisonuocnongcu:e.target.value}))),type:"number",id:"chisodien",required:!0,className:ee("input")})]}),Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc n\xf3ng m\u1edbi"}),Object(k.jsx)("input",{value:n.chisonuocnongmoi||"",onChange:e=>s((t=>({...t,chisonuocnongmoi:e.target.value}))),type:"number",id:"chisodien",required:!0,className:ee("input")})]})]}),Object(k.jsxs)("div",{className:ee("formGroup"),children:[Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc l\u1ea1nh c\u0169"}),Object(k.jsx)("input",{value:n.chisonuoclanhcu||"",onChange:e=>s((t=>({...t,chisonuoclanhcu:e.target.value}))),type:"number",id:"chisonuoclanh",required:!0,className:ee("input")})]}),Object(k.jsxs)("div",{className:ee("inputGroup"),children:[Object(k.jsx)("label",{className:ee("label"),children:"Ch\u1ec9 s\u1ed1 n\u01b0\u1edbc l\u1ea1nh m\u1edbi"}),Object(k.jsx)("input",{value:n.chisonuoclanhmoi||"",onChange:e=>s((t=>({...t,chisonuoclanhmoi:e.target.value}))),type:"number",id:"chisonuoclanh",required:!0,className:ee("input")})]})]}),Object(k.jsxs)("div",{className:ee("control"),children:[Object(k.jsx)("button",{type:"button",onClick:()=>r(Object(k.jsx)(je,{})),className:ee("button"),children:"Quay l\u1ea1i"}),Object(k.jsx)("button",{type:"button",onClick:()=>(async()=>{try{await _(t._id,n)?(setTimeout((()=>{l("")}),3e3),l("C\u1eadp nh\u1eadt ph\xf2ng th\xe0nh c\xf4ng!")):l("Th\xeam ph\xf2ng th\u1ea5t b\u1ea1i!")}catch(e){l(e.message)}})(),className:ee("button"),children:"C\u1eadp Nh\u1eadt"})]})]}),Object(k.jsx)("p",{id:"message",className:ee("message"),children:o})]})})},ne=n(25),ce=n.n(ne),se=n(26),ae=n.n(se);const ie=l.a.bind(ae.a);var oe=function(e){let{props:t}=e;const[n,s]=Object(c.useState)({}),[a,i]=Object(c.useState)(3),{openModal:o}=D();return Object(c.useEffect)((()=>{let e=0,n=0,c=0,o=0,l=0,r=[],h=null;h=1===a?t.filter((e=>e.GiaPhong>=1)):t.filter((e=>0===e.GiaPhong)),h.forEach((t=>{const s=t.chisodienmoi-t.chisodiencu,a=t.chisonuoclanhmoi+t.chisonuocnongmoi-(t.chisonuoclanhcu+t.chisonuocnongcu),i=s>0,h=a>0;(i||h)&&(e+=t.GiaPhong,r.push(t.SoPhong),i&&(n+=s,o+=4e3*s),h&&(c+=a,l+=2e4*a))})),r.length?s({totalRoom:e.toLocaleString(),totalElectric:n>0?n:0,totalWater:c>0?c:0,totalElectricUsed:o>0?o.toLocaleString():0,totalWaterUsed:l>0?l.toLocaleString():0,roomCount:r.length?r.join(", "):"Kh\xf4ng c\xf3 ph\xf2ng n\xe0o ph\xf9 h\u1ee3p"}):i(3)}),[a]),Object(k.jsxs)("div",{className:ie("container"),children:[Object(k.jsxs)("div",{className:ie("summary-item"),children:[Object(k.jsx)("button",{onClick:e=>i(2),className:ie("btn-summary"),children:"T\u1ed5ng k\u1ebft h\xf3a \u0111\u01a1n ph\xf2ng tr\u1ed1ng"}),Object(k.jsx)("button",{onClick:e=>i(1),className:ie("btn-summary","btn-total"),children:"T\u1ed5ng k\u1ebft h\xf3a \u0111\u01a1n ph\xf2ng hi\u1ec7n c\xf3"})]}),3==a&&Object(k.jsx)("div",{className:ie("center"),children:Object(k.jsx)("span",{children:"Hi\u1ec7n ch\u01b0a c\xf3 d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c n\u1ea1p vui l\xf2ng th\u1eed l\u1ea1i sau khi n\u1ea1p d\u1eef li\u1ec7u"})}),(1===a||2===a)&&Object(k.jsxs)("div",{className:ie("result"),children:[Object(k.jsxs)("div",{className:ie("result-item"),children:[Object(k.jsx)("strong",{children:"Ph\xe2n lo\u1ea1i"})," ",2===a?"C\xe1c ph\xf2ng ch\u01b0a c\xf3 kh\xe1ch":"C\xe1c ph\xf2ng c\xf3 kh\xe1ch"]}),Object(k.jsxs)("div",{className:ie("result-item"),children:[Object(k.jsx)("strong",{children:"T\u1ed5ng s\u1ed1 ph\xf2ng \u0111\xe3 t\xednh:"})," Ph\xf2ng: ",n.roomCount]}),Object(k.jsxs)("div",{className:ie("result-item"),children:[Object(k.jsx)("strong",{children:"T\u1ed5ng l\u01b0\u1ee3ng \u0111i\u1ec7n s\u1eed d\u1ee5ng:"})," ",n.totalElectric," kWh"]}),Object(k.jsxs)("div",{className:ie("result-item"),children:[Object(k.jsx)("strong",{children:"T\u1ed5ng ti\u1ec1n \u0111i\u1ec7n:"})," ",n.totalElectricUsed," \u0111\u1ed3ng"]}),Object(k.jsxs)("div",{className:ie("result-item"),children:[Object(k.jsx)("strong",{children:"T\u1ed5ng l\u01b0\u1ee3ng n\u01b0\u1edbc s\u1eed d\u1ee5ng:"})," ",n.totalWater," m\xb3"]}),Object(k.jsxs)("div",{className:ie("result-item"),children:[Object(k.jsx)("strong",{children:"T\u1ed5ng ti\u1ec1n n\u01b0\u1edbc:"})," ",n.totalWaterUsed," \u0111\u1ed3ng"]}),Object(k.jsxs)("div",{className:ie("result-item"),children:[Object(k.jsx)("strong",{children:"T\u1ed5ng ti\u1ec1n ph\xf2ng (c\u1ed1 \u0111\u1ecbnh):"})," ",n.totalRoom," \u0111\u1ed3ng"]}),Object(k.jsx)("div",{className:ie("result-item"),children:Object(k.jsx)("button",{onClick:e=>o(Object(k.jsx)(je,{})),className:ie("button"),children:"\u2b05\ufe0f Quay l\u1ea1i"})})]})]})};const le=l.a.bind(ce.a);var re=function(e){let{props:t}=e;const{openModal:n}=D(),{data:s,setData:a}=Object(c.useState)({});return Object(k.jsxs)("div",{className:le("invoice-container"),children:[Object(k.jsx)("h2",{className:le("invoice-title"),children:"Danh s\xe1ch h\xf3a \u0111\u01a1n thanh to\xe1n"}),Object(k.jsxs)("div",{className:le("invoice-summary"),children:[Object(k.jsx)("div",{className:le("summary-item"),children:Object(k.jsx)("button",{onClick:()=>(()=>{const e=t;n(Object(k.jsx)(oe,{props:e,only:1}))})(),className:le("btn-summary","btn-total"),children:"T\u1ed5ng k\u1ebft"})}),Object(k.jsx)("div",{className:le("summary-item"),children:Object(k.jsx)("button",{onClick:()=>(async()=>{if(!window.confirm("Khi l\xe0m m\u1edbi h\xf3a \u0111\u01a1n, s\u1ed1 li\u1ec7u n\u01b0\u1edbc m\u1edbi v\xe0 \u0111i\u1ec7n m\u1edbi s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n th\xe0nh s\u1ed1 li\u1ec7u c\u0169. B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n l\xe0m m\u1edbi h\xf3a \u0111\u01a1n kh\xf4ng?"))return void alert("\u0110\xe3 h\u1ee7y thao t\xe1c l\xe0m m\u1edbi h\xf3a \u0111\u01a1n");if("0786566176"!==prompt("Nh\u1eadp m\u1eadt kh\u1ea9u \u0111\u1ec3 l\xe0m m\u1edbi h\xf3a \u0111\u01a1n"))return void alert("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang, kh\xf4ng th\u1ec3 l\xe0m m\u1edbi h\xf3a \u0111\u01a1n");let e=0;for(const c of t){e++;const s={hovaten:c.hovaten,GiaPhong:c.GiaPhong,chisodiencu:c.chisodienmoi,chisodienmoi:0,chisonuoclanhcu:c.chisonuoclanhmoi,chisonuoclanhmoi:0,chisonuocnongcu:c.chisonuocnongmoi,chisonuocnongmoi:0,sinhhoatchung:c.sinhhoatchung,ghichu:c.ghichu};await _(c._id,s)&&e>=t.length&&n(Object(k.jsx)(je,{}))}})(),className:le("btn-summary","btn-refresh"),children:"L\xe0m m\u1edbi"})}),Object(k.jsx)("div",{className:le("summary-item"),children:Object(k.jsx)("button",{onClick:()=>{n(Object(k.jsx)(je,{}))},className:le("btn-summary","btn-back"),children:"Quay l\u1ea1i"})})]}),Object(k.jsx)("div",{className:le("invoice-list"),children:t.filter((e=>e.GiaPhong>0)).map((e=>{const t=e.chisodienmoi-e.chisodiencu,n=e.chisonuoclanhmoi-e.chisonuoclanhcu+e.chisonuocnongmoi-e.chisonuocnongcu,c=n>0?2e4*n:0,s=t>0?4e3*t:0,a=c+s+e.sinhhoatchung+e.GiaPhong;return Object(k.jsxs)("div",{className:le("invoice-card"),children:[Object(k.jsxs)("h3",{className:le("customer-name"),children:[e.hovaten," - ",e.SoPhong]}),Object(k.jsxs)("div",{className:le("invoice-info"),children:[Object(k.jsx)("span",{className:le("divider"),children:"-----------------------------------------------"}),Object(k.jsxs)("div",{className:le("invoice-info-item"),children:[Object(k.jsxs)("div",{className:le("info-line"),children:["\u0110i\u1ec7n m\u1edbi: ",e.chisodienmoi," kWh"]}),Object(k.jsxs)("div",{className:le("info-line"),children:["\u0110i\u1ec7n c\u0169: ",e.chisodiencu," kWh"]})]}),Object(k.jsx)("span",{className:le("divider"),children:"--------------------------------------------------"}),Object(k.jsxs)("div",{className:le("invoice-info-item"),children:[Object(k.jsxs)("div",{className:le("info-line"),children:["N\u01b0\u1edbc l\u1ea1nh m\u1edbi: ",e.chisonuoclanhmoi," m\xb3"]}),Object(k.jsxs)("div",{className:le("info-line"),children:["N\u01b0\u1edbc l\u1ea1nh c\u0169: ",e.chisonuoclanhcu," m\xb3"]})]}),Object(k.jsxs)("div",{className:le("invoice-info-item"),children:[Object(k.jsxs)("div",{className:le("info-line"),children:["N\u01b0\u1edbc n\xf3ng m\u1edbi: ",e.chisonuocnongmoi," m\xb3"]}),Object(k.jsxs)("div",{className:le("info-line"),children:["N\u01b0\u1edbc n\xf3ng c\u0169: ",e.chisonuocnongcu," m\xb3"]})]}),Object(k.jsxs)("div",{className:le("invoice-info-item"),children:[Object(k.jsxs)("div",{className:le("info-line"),children:["T\u1ed5ng n\u01b0\u1edbc m\u1edbi: ",e.chisonuoclanhmoi+e.chisonuocnongmoi," m\xb3"]}),Object(k.jsxs)("div",{className:le("info-line"),children:["T\u1ed5ng n\u01b0\u1edbc c\u0169: ",e.chisonuoclanhcu+e.chisonuocnongcu," m\xb3"]})]}),Object(k.jsx)("span",{className:le("divider"),children:"--------------------------------------------------"}),Object(k.jsxs)("div",{className:le("invoice-info-item"),children:[Object(k.jsxs)("div",{className:le("info-line"),children:["Gi\xe1 ph\xf2ng: ",e.GiaPhong.toLocaleString(),"\u0111"]}),Object(k.jsxs)("div",{className:le("info-line"),children:["Ph\xed Sinh ho\u1ea1t: ",e.sinhhoatchung.toLocaleString(),"\u0111"]})]}),Object(k.jsxs)("div",{className:le("invoice-info-item"),children:[Object(k.jsxs)("div",{className:le("info-line"),children:["\u0110i\u1ec7n ti\xeau th\u1ee5: ",t>=0?t:0," kWh"]}),Object(k.jsxs)("div",{className:le("info-line"),children:["N\u01b0\u1edbc ti\xeau th\u1ee5: ",n>=0?n:0," m\xb3"]})]}),Object(k.jsx)("span",{className:le("divider"),children:"--------------------------------------------------"}),Object(k.jsxs)("div",{className:le("invoice-info-item"),children:[Object(k.jsxs)("div",{className:le("info-line"),children:["Ti\u1ec1n \u0111i\u1ec7n: ",s.toLocaleString(),"\u0111",Object(k.jsx)("br",{}),"Gi\xe1 \u0111i\u1ec7n: "," ",t>=0?`${t} x 4.000\u0111`:"0","\u0111"]}),Object(k.jsxs)("div",{className:le("info-line"),children:["Ti\u1ec1n n\u01b0\u1edbc: ",c.toLocaleString(),"\u0111",Object(k.jsx)("br",{}),"Gi\xe1 n\u01b0\u1edbc: ",n>=0?`${n} x 20.000\u0111`:"0","\u0111"]})]}),Object(k.jsx)("span",{className:le("divider"),children:"--------------------------------------------------"}),Object(k.jsxs)("span",{className:le("total-amount"),children:["T\u1ed5ng thanh to\xe1n: ",a.toLocaleString()]})]})]})}))})]})};const he=l.a.bind(K.a);var je=function(){const[e,t]=Object(c.useState)([]),{openModal:n}=D(),s=async()=>{const e=await g(b.get("/api/getallroom/v2"),"L\u1ed7i khi t\u1ea3i danh s\xe1ch ph\xf2ng th\xe1ng");e&&t(e.data)};Object(c.useEffect)((()=>{s()}),[]);const a=async(e,t)=>{const n=prompt("Vui l\xf2ng nh\u1eadp ch\u1ec9 s\u1ed1");if(n){let c;if(n.includes("+")){const e=n.split("+");c=(parseFloat(e[0])||0)+(parseFloat(e[1])||0)}else c=parseFloat(n);if(!isNaN(c)){const n={[t]:c};await _(e,n)&&s()}}},i=async e=>{if("0786566176"!==prompt("B\u1ea1n h\xe3y nh\u1eadp m\u1eadt kh\u1ea9u \u0111\u1ec3 x\xf3a ph\xf2ng?"))return void alert("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang!");const t=await(async e=>window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?")?g(b.get(`/api/delete/${e}/v2`),"L\u1ed7i khi x\xf3a ph\xf2ng"):null)(e);t&&(alert("X\xf3a ph\xf2ng th\xe0nh c\xf4ng!"),s())};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:he("search"),children:[Object(k.jsx)("button",{onClick:t=>{n(Object(k.jsx)(Y,{list:e}))},className:he("search-button"),children:"Th\xeam ph\xf2ng"}),Object(k.jsx)("button",{onClick:t=>{n(Object(k.jsx)(re,{props:e}))},className:he("search-button"),children:"T\u1ea1o H\xf3a \u0110\u01a1n"}),Object(k.jsx)("button",{onClick:e=>{n(Object(k.jsx)(q,{}))},className:he("search-button"),children:"\u0110i\u1ec1u khi\u1ec3n qua Telegram"})]}),Object(k.jsxs)("table",{className:he("water-table-history-table"),children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"STT"}),Object(k.jsx)("th",{children:"S\u1ed1 Ph\xf2ng"}),Object(k.jsx)("th",{children:"Gi\xe1 Ph\xf2ng"}),Object(k.jsx)("th",{children:"Ch\u1ec9 s\u1ed1 ti\xeau th\u1ee5 \u0111i\u1ec7n"}),Object(k.jsx)("th",{children:"Ch\u1ec9 s\u1ed1 ti\xeau th\u1ee5 n\u01b0\u1edbc"}),Object(k.jsx)("th",{children:"Sinh ho\u1ea1t"}),Object(k.jsx)("th",{children:"Tr\u1ea1ng th\xe1i"})]})}),Object(k.jsx)("tbody",{className:he("water-table-data"),children:e.length>0?e.map(((e,t)=>Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t+1}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:he("room-item"),children:Object(k.jsxs)("span",{children:[e.SoPhong,Object(k.jsx)("a",{onClick:()=>a(e._id,"SoPhong"),className:he("plus-minus-button"),children:"+"})]})})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:he("room-item"),children:Object(k.jsxs)("span",{children:[e.GiaPhong.toLocaleString(),"\u0110",Object(k.jsx)("a",{onClick:()=>a(e._id,"GiaPhong"),className:he("plus-minus-button"),children:"+"})]})})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:he("room-item"),children:Object(k.jsxs)("span",{children:["\u0110i\u1ec7n m\u1edbi: ",e.chisodienmoi,Object(k.jsx)("a",{onClick:()=>a(e._id,"chisodienmoi"),className:he("plus-minus-button"),children:"+"})]})})}),Object(k.jsx)("td",{children:Object(k.jsxs)("div",{className:he("room-item"),children:[Object(k.jsxs)("span",{children:["N\u01b0\u1edbc n\xf3ng m\u1edbi: ",e.chisonuocnongmoi,Object(k.jsx)("a",{onClick:()=>a(e._id,"chisonuocnongmoi"),className:he("plus-minus-button"),children:"+"})]}),Object(k.jsxs)("span",{children:["N\u01b0\u1edbc l\u1ea1nh m\u1edbi: ",e.chisonuoclanhmoi,Object(k.jsx)("a",{onClick:()=>a(e._id,"chisonuoclanhmoi"),className:he("plus-minus-button"),children:"+  "})]})]})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:he("room-item"),children:Object(k.jsxs)("span",{children:[e.sinhhoatchung.toLocaleString(),"\u0110",Object(k.jsx)("a",{onClick:()=>a(e._id,"sinhhoatchung"),className:he("plus-minus-button"),children:"+"})]})})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:he("room-item"),children:Object(k.jsxs)("span",{children:[Object(k.jsx)("a",{onClick:t=>(e=>{n(Object(k.jsx)(te,{props:e}))})(e),className:he("plus-minus-button","icon"),children:Object(k.jsx)(U.a,{})}),Object(k.jsx)("a",{onClick:t=>i(e._id),className:he("plus-minus-button","icon"),children:Object(k.jsx)(U.b,{})})]})})})]},t))):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"7",style:{textAlign:"center",padding:"20px",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 b\u1ea3ng n\xe0o \u0111\u01b0\u1ee3c ghi"})})})]})]})})},de=n(27),me=n.n(de),ue=n(28),be=n.n(ue);const ge=l.a.bind(be.a);var xe=function(){const[e,t]=Object(c.useState)([]),[n,s]=Object(c.useState)(1),{openModal:a}=D(),i=async()=>{console.log("ham da duoc goi");try{const e=await g(b.get("/api/kiemhangthuall"),"L\u1ed7i khi ki\u1ec3m h\xe0ng th\u1eed");return e&&(console.log(e),t(e)),e}catch(e){console.error("L\u1ed7i khi l\u1ea5y danh s\xe1ch n\u01b0\u1edbc:",e)}};Object(c.useEffect)((()=>{i()}),[]);const o=40*n,l=o-40,r=e.slice(l,o),h=()=>Math.ceil(e.length/40),j=async()=>{if("0786566176"!==prompt("\u0110\u1ec3 reset b\u1ea1n c\u1ea7n nh\u1eadp m\u1eadt kh\u1ea9u: "))return alert("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang");await(async()=>window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n t\u1ea1o m\u1edbi d\u1eef li\u1ec7u kh\xf4ng?\nH\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng l\u1ea5y S\u1ed1 l\u01b0\u1ee3ng cu\u1ed1i v\xe0 Chuy\u1ec3n v\u1ec1 l\u1ea1i S\u1ed1 l\u01b0\u1ee3ng \u0110\u1ea7u")?g(b.get("/api/resetwt"),"L\u1ed7i khi reset s\u1ed1 l\u01b0\u1ee3ng n\u01b0\u1edbc"):null)()&&a(Object(k.jsx)(Oe,{}))};return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:ge("search"),children:[Object(k.jsx)("button",{onClick:e=>{a(Object(k.jsx)(Oe,{}))},className:ge("search-button"),children:"Quay l\u1ea1i"}),Object(k.jsx)("button",{onClick:e=>j(),className:ge("search-button","news"),children:"L\xe0m m\u1edbi"})]}),Object(k.jsxs)("table",{className:ge("water-table-history-table"),children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"STT"}),Object(k.jsx)("th",{children:"Lo\u1ea1i N\u01b0\u1edbc"}),Object(k.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u1ea7u"}),Object(k.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng b\xe1n"}),Object(k.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng cu\u1ed1i"})]})}),Object(k.jsx)("tbody",{className:ge("water-table-data"),children:r.length>0?r.map(((e,t)=>Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t+1}),Object(k.jsxs)("td",{children:["N\u01b0\u1edbc ",e.tenNuoc]}),Object(k.jsx)("td",{children:Object(k.jsx)("span",{children:e.soLuongDau})}),Object(k.jsx)("td",{children:Object(k.jsx)("span",{children:e.ban})}),Object(k.jsx)("td",{children:Object(k.jsx)("span",{children:e.thucTeCuoiKy})})]},t))):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"8",style:{textAlign:"center",padding:"20px",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 b\u1ea3ng n\xe0o \u0111\u01b0\u1ee3c ghi"})})})]}),Object(k.jsxs)("div",{className:ge("water-table-pagination"),children:[Object(k.jsx)("div",{className:ge("water-table-notification"),children:Object(k.jsxs)("span",{children:["Trang ",n," of ",h()]})}),Object(k.jsxs)("div",{className:ge("water-table-controls"),children:[Object(k.jsx)("button",{onClick:()=>{n>1&&s(n-1)},disabled:1===n,children:"Trang tr\u01b0\u1edbc"}),Object(k.jsx)("button",{onClick:()=>{n<h()&&s(n+1)},disabled:n===h(),children:"Trang sau"})]})]})]})};const pe=l.a.bind(me.a);var Oe=function(){const{openModal:e}=D(),[t,n]=Object(c.useState)(""),[s,a]=Object(c.useState)([]),[i,o]=Object(c.useState)([]),[l,r]=Object(c.useState)(1),h=async()=>{try{const e=await g(b.get("/api/water"),"L\u1ed7i khi l\u1ea5y danh s\xe1ch n\u01b0\u1edbc");return e&&(o(e),a(e)),e}catch(e){console.error("L\u1ed7i khi l\u1ea5y danh s\xe1ch n\u01b0\u1edbc:",e)}};Object(c.useEffect)((()=>{h()}),[]),Object(c.useEffect)((()=>{(()=>{if(t){const e=i.filter((e=>e.tenNuoc.toLowerCase().includes(t.toLowerCase())));a(e)}else a(i)})()}),[t]);const j=40*l,d=j-40,m=s.slice(d,j),u=()=>Math.ceil(s.length/40),x=async(e,n)=>{const c=prompt("Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng n\u01b0\u1edbc \u0111\xe3 b\xe1n?\nN\u1ebfu mu\u1ed1n tr\u1eeb s\u1ed1 l\u01b0\u1ee3ng -(s\u1ed1 l\u01b0\u1ee3ng mu\u1ed1n tr\u1eeb)");if(c){let s;"nhap"==n?s={tenNuoc:e,nhap:c||0}:"ban"==n&&(s={tenNuoc:e,soLuong:c||0});const i=await(e=>g(b.post("/api/update-water",{tenNuoc:e.tenNuoc,soLuong:Number(e.soLuong)||0,nhap:Number(e.nhap)||0}),"L\u1ed7i khi c\u1eadp nh\u1eadt n\u01b0\u1edbc"))(s);if(i){const e=await h();if(alert("N\u1ea1p d\u1eef li\u1ec7u th\xe0nh c\xf4ng"),t){const n=e.filter((e=>e.tenNuoc.toLowerCase().includes(t.toLowerCase())));a(n)}}}};return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:pe("search"),children:[Object(k.jsx)("input",{value:t||"",onChange:e=>n(e.target.value),type:"text",placeholder:"T\xecm ki\u1ebfm...",className:pe("search-input")}),Object(k.jsx)("button",{onClick:t=>{e(Object(k.jsx)(xe,{}))},className:pe("search-button"),children:"Ki\u1ec3m h\xe0ng"})]}),Object(k.jsxs)("table",{className:pe("water-table-history-table"),children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"STT"}),Object(k.jsx)("th",{children:"Lo\u1ea1i N\u01b0\u1edbc"}),Object(k.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u1ea7u"}),Object(k.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng nh\u1eadp"}),Object(k.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng b\xe1n"}),Object(k.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng cu\u1ed1i"})]})}),Object(k.jsx)("tbody",{className:pe("water-table-data"),children:m.length>0?m.map(((e,t)=>Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:d+t+1}),Object(k.jsx)("td",{children:e.tenNuoc}),Object(k.jsx)("td",{children:e.soLuongDau}),Object(k.jsxs)("td",{children:[e.nhap,Object(k.jsx)("a",{className:pe("plus-minus-button"),onClick:()=>x(e.tenNuoc,"nhap"),children:"+"})]}),Object(k.jsxs)("td",{children:[e.ban," ",Object(k.jsx)("a",{className:pe("plus-minus-button"),onClick:()=>x(e.tenNuoc,"ban"),children:"+"})]}),Object(k.jsx)("td",{children:e.thucTeCuoiKy})]},t))):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"8",style:{textAlign:"center",padding:"20px",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 b\u1ea3ng n\xe0o \u0111\u01b0\u1ee3c ghi"})})})]}),Object(k.jsxs)("div",{className:pe("water-table-pagination"),children:[Object(k.jsx)("div",{className:pe("water-table-notification"),children:Object(k.jsxs)("span",{children:["Trang ",l," of ",u()]})}),Object(k.jsxs)("div",{className:pe("water-table-controls"),children:[Object(k.jsx)("button",{onClick:()=>{l>1&&r(l-1)},disabled:1===l,children:"Trang tr\u01b0\u1edbc"}),Object(k.jsx)("button",{onClick:()=>{l<u()&&r(l+1)},disabled:l===u(),children:"Trang sau"})]})]})]})};const _e=l.a.bind(d.a);var Ne=()=>{const{openModal:e}=D();return Object(k.jsx)("header",{className:_e("header"),children:Object(k.jsx)("nav",{className:_e("header__nav"),children:Object(k.jsxs)("ul",{className:_e("header__menu"),children:[Object(k.jsx)("li",{className:_e("header__item"),children:Object(k.jsx)("a",{href:"/",className:_e("header__link"),children:"Trang ch\u1ee7"})}),Object(k.jsx)("li",{className:_e("header__item"),children:Object(k.jsx)("a",{className:_e("header__link"),onClick:()=>{e(Object(k.jsx)(C,{}))},children:"L\u1ecbch s\u1eed"})}),Object(k.jsx)("li",{className:_e("header__item"),children:Object(k.jsx)("a",{className:_e("header__link"),onClick:()=>{e(Object(k.jsx)(F,{}))},children:"Danh s\xe1ch ph\xf2ng ng\xe0y"})}),Object(k.jsx)("li",{className:_e("header__item"),children:Object(k.jsx)("a",{className:_e("header__link"),onClick:()=>{e(Object(k.jsx)(je,{}))},children:"Danh s\xe1ch ph\xf2ng th\xe1ng"})}),Object(k.jsx)("li",{className:_e("header__item"),children:Object(k.jsx)("a",{className:_e("header__link"),onClick:()=>{e(Object(k.jsx)(Oe,{}))},children:"Qu\u1ea3n l\xfd n\u01b0\u1edbc"})})]})})})},ve=n(10),fe=n.n(ve);const ye=l.a.bind(fe.a);var ke=e=>{var t,n;let{room:s,handleInputChange:a,setCurrentTime:i,calculate:o}=e;const l=(()=>{const e=Object(c.useRef)({});return function(t,n,c,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:800;console.log("h\xe0m n\xe0y ho\u1ea1t \u0111\u1ed9ng"),n!==c&&(e.current[t]&&clearTimeout(e.current[t]),e.current[t]=setTimeout((()=>{s(),delete e.current[t],console.log("da goi lai")}),a))}})(),[r,h]=Object(c.useState)({}),j=Object(c.useRef)({}),d=Object(c.useRef)({}),m=(e,t,n)=>{var c;const i=n.target.value,o=null!==(c=d.current[`${e}-${t}`])&&void 0!==c?c:"date"===e?f(s.checkInDate):y(s.checkInDate);d.current[`${e}-${t}`]=i,h((n=>({...n,[`${e}-${t}`]:i}))),l(`${e}-${t}`,i,o,(()=>{var n,c;a(t,{type:e,value:i,..."checkTimeDate"===e?{date:null!==(n=r[`checkInDate-${s.roomNumber}`])&&void 0!==n?n:f(s.checkInDate)}:{time:null!==(c=r[`checkTimeDate-${s.roomNumber}`])&&void 0!==c?c:y(s.checkInDate)}})}))};Object(c.useEffect)((()=>{(()=>{if(!j.current[s.roomNumber])return;const e=j.current[s.roomNumber];Object(N.a)(e.checkindate,{dateFormat:"d-m-Y",onChange:()=>m("checkInDate",s.roomNumber,{target:{value:e.checkindate.value}})}),Object(N.a)(e.checkoutdate,{dateFormat:"d-m-Y"}),Object(N.a)(e.checkintime,{enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,minuteIncrement:60,onChange:()=>m("checkTimeDate",s.roomNumber,{target:{value:e.checkintime.value}})}),Object(N.a)(e.checkouttime,{enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,minuteIncrement:60})})()}),[s.roomNumber]);const u=(e,t)=>{j.current[s.roomNumber]||(j.current[s.roomNumber]={}),e&&(j.current[s.roomNumber][t]=e)};return Object(k.jsxs)("div",{className:ye("room"),children:[Object(k.jsxs)("h3",{children:["Ph\xf2ng ",String(s.roomNumber).padStart(3,"0")]}),Object(k.jsxs)("div",{className:ye("time-container"),children:[Object(k.jsx)("input",{ref:e=>u(e,"checkindate"),type:"text",id:`checkin-date-${s.roomNumber}`,className:ye("time-picker"),value:null!==(t=r[`checkInDate-${s.roomNumber}`])&&void 0!==t?t:f(s.checkInDate),onChange:e=>m("checkInDate",s.roomNumber,e)}),Object(k.jsx)("input",{ref:e=>u(e,"checkintime"),type:"text",id:`checkin-time-${s.roomNumber}`,className:ye("time-picker"),value:null!==(n=r[`checkTimeDate-${s.roomNumber}`])&&void 0!==n?n:y(s.checkInDate),onChange:e=>m("checkTimeDate",s.roomNumber,e)})]}),Object(k.jsxs)("div",{className:ye("time-container"),children:[Object(k.jsx)("input",{ref:e=>u(e,"checkoutdate"),type:"text",id:`checkout-date-${s.roomNumber}`,className:ye("time-picker")}),Object(k.jsx)("input",{ref:e=>u(e,"checkouttime"),type:"text",id:`checkout-time-${s.roomNumber}`,className:ye("time-picker")})]}),Object(k.jsxs)("div",{className:ye("btn-container"),children:[Object(k.jsxs)("div",{className:ye("btn-top"),children:[Object(k.jsx)("button",{className:ye("check-in"),onClick:()=>i("checkin",s.roomNumber,j),children:"Nh\u1eadn ph\xf2ng"}),Object(k.jsx)("button",{className:ye("check-out"),onClick:()=>i("checkout",s.roomNumber,j),children:"Tr\u1ea3 ph\xf2ng"})]}),Object(k.jsx)("div",{className:ye("btn-bottom"),children:Object(k.jsx)("button",{className:ye("btn-calculate"),onClick:()=>{o(s.roomNumber,j)},children:"T\xednh ti\u1ec1n"})})]})]})};const Se=l.a.bind(fe.a);var Ce=()=>{const[e,t]=Object(c.useState)([]),n=Object(c.useRef)(null),s=Object(c.useRef)(null),{openModal:a,closeModal:i}=D();Object(c.useEffect)((()=>{(async()=>{const e=(await p()).sort(((e,t)=>e.roomNumber-t.roomNumber));t(e)})()}),[]);const o=async(e,t)=>{let n;n="checkTimeDate"===t.type?t.date+" "+t.value:t.value+" "+t.time,await x(String(e),{checkInDate:n})},l=async(e,t,n)=>{const c=new Date,s=c.toLocaleDateString("vi-VN"),a=`${String(c.getHours()).padStart(2,"0")}:${String(c.getMinutes()).padStart(2,"0")}`,i=((e,t)=>{const[n,c,s]=e.split("/"),a=`${n.padStart(2,"0")}-${c.padStart(2,"0")}-${s}`;let i;return i=t?`${a} ${t}`:`${a}`,i})(s,a);if("checkin"===e){const e=n.current[t].checkindate,c=n.current[t].checkintime;e&&e._flatpickr&&(e.value=s,e._flatpickr.setDate(s,!0,"d-m-Y")),c&&c._flatpickr&&(c.value=a,c._flatpickr.setDate(a,!0,"H:i"));if(await x(String(t),{checkInDate:i}))return window.location.reload()}else{const e=n.current[t].checkoutdate,c=n.current[t].checkouttime;e&&e._flatpickr&&(e.value=s,e._flatpickr.setDate(s,!0,"d-m-Y")),c&&c._flatpickr&&(c.value=a,c._flatpickr.setDate(a,!0,"H:i"))}},r=(t,c)=>{const o=c,l=v(o.current[t].checkindate.value),r=o.current[t].checkintime.value,h=v(o.current[t].checkoutdate.value),j=o.current[t].checkouttime.value;if(!l||!r||!h||!j)return a(Object(k.jsx)("p",{style:{textAlign:"center"},children:"Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u1eddi gian."}));const d=new Date(`${l}T${r}`),m=new Date(`${h}T${j}`);if(m<=d)return a(Object(k.jsx)("p",{style:{textAlign:"center"},children:"Th\u1eddi gian tr\u1ea3 ph\xf2ng c\u1ea7n \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp mu\u1ed9n h\u01a1n th\u1eddi gian nh\u1eadn ph\xf2ng \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o h\u1ee3p l\u1ec7."}));let u=0;const x=[],p=m-d,O=Math.ceil(p/6e4),_=Math.ceil(p/36e5),N=d.getHours(),f=m.getHours(),y=d.toDateString()===m.toDateString(),S=N>=19&&N<=23&&f>=0&&f<=2&&_<=9,C=e.find((e=>e.roomNumber===t)),T={"01-01":"T\u1ebft D\u01b0\u01a1ng L\u1ecbch","30-04":"Gi\u1ea3i ph\xf3ng mi\u1ec1n Nam","01-05":"Qu\u1ed1c t\u1ebf Lao \u0111\u1ed9ng","02-09":"Qu\u1ed1c kh\xe1nh"};let w=0,P=0;if(y||S){u=C.firstHour,x.push(`Gi\u1edd \u0111\u1ea7u: ${C.firstHour.toLocaleString()} VN\u0110`);const e=O-60,t=e>0?Math.floor((e+45)/60):0;if(t>0){let e=new Date(d);e.setMinutes(e.getMinutes()+60);let n=0,c=0;for(let s=0;s<t;s++){const t=e.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}).replace(/\//g,"-"),s=T[t];n+=C.extraHour+(s?1e4:0),s&&c++,e.setHours(e.getHours()+1)}x.push(`Ph\u1ee5 thu: ${t} gi\u1edd x ${C.extraHour.toLocaleString()} VN\u0110 ${c>0?`(Ng\xe0y l\u1ec5: ${c} gi\u1edd)`:""} = ${n.toLocaleString()} VN\u0110`),u+=n}}else{if(N>=5&&N<=12){const e=12-N;e>0&&(w+=e*C.extraHour,x.push(`Ph\u1ee5 thu nh\u1eadn ph\xf2ng s\u1edbm: ${e} gi\u1edd x ${C.extraHour.toLocaleString()} VN\u0110`))}const e=new Date(d);if(e.setDate(e.getDate()+1),e.setHours(12,0,0,0),m<=e)u=C.daily,x.push(`T\xednh 1 ng\xe0y: ${C.daily.toLocaleString()} VN\u0110`);else{const t=new Date(m);t.setHours(12,0,0,0);const n=Math.round((t-e)/864e5)+1;u=n*C.daily,x.push(`${n} ng\xe0y x ${C.daily.toLocaleString()} VN\u0110`)}if(f>=12){const e=f-12;e>0&&(w+=e*C.extraHour,x.push(`Ph\u1ee5 thu tr\u1ea3 ph\xf2ng mu\u1ed9n: ${e} gi\u1edd x ${C.extraHour.toLocaleString()} VN\u0110`))}}let L=0;if(!y){const e=function(e,t){const n={},c=new Date(e);c.setHours(0,0,0,0);const s=new Date(t);for(s.setHours(0,0,0,0);c<=s;){const e=c.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}).replace(/\//g,"-");T[e]&&(n[T[e]]=(n[T[e]]||0)+1),c.setDate(c.getDate()+1)}return n}(d,m);for(const t in e)P+=1e5*e[t],x.push(`Qua \u0111\xeam ng\xe0y l\u1ec5 ${t}: +100,000 VN\u0110`);if(f>=12){const e=f-12;if(e>0){const t=new Date(d);for(;t<=m;){const n=t.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}).replace(/\//g,"-");if(T[n]){L=e,P+=1e4*e;break}t.setHours(t.getHours()+1)}}}}L>0&&x.push(`Ph\u1ee5 thu ${L} gi\u1edd l\u1ec5 x 10,000 VN\u0110 = ${(1e4*L).toLocaleString()} VN\u0110`),P>0&&x.push(`T\u1ed5ng ph\u1ee5 thu l\u1ec5: +${P.toLocaleString()} VN\u0110`),u+=w+P,x.push("Th\u1eddi gian \u1edf th\u1ef1c: "+(O>=1440?`${Math.floor(O/1440)} ng\xe0y${O%1440?` ${Math.floor(O%1440/60)} gi\u1edd ${O%60} ph\xfat`:""}`:`${Math.floor(O/60)} gi\u1edd ${O%60} ph\xfat`));const D={totalAmount:u.toLocaleString(),checkInDate:d.toLocaleString(),checkOutDate:m.toLocaleString(),description:x.map((e=>`<span>${e}</span>`)).join("")},R=async()=>{var e;o.current[t].checkindate.value="",o.current[t].checkintime.value="",o.current[t].checkoutdate.value="",o.current[t].checkouttime.value="",e=t,g(b.get(`/api/reset/${e}`),"L\u1ed7i khi reset ph\xf2ng"),await((e,t)=>g(b.post("/api/history",{roomNumber:e,totalAmount:t.totalAmount,checkInDate:t.checkInDate,checkOutDate:t.checkOutDate,description:t.description}),"L\u1ed7i khi l\u01b0u l\u1ecbch s\u1eed ph\xf2ng"))(t,D),i()};a(Object(k.jsxs)("div",{className:Se("calculate"),children:[Object(k.jsx)("h3",{className:Se("calculate-header"),children:"Chi ti\u1ebft t\xednh ti\u1ec1n"}),Object(k.jsxs)("p",{className:Se("room-info"),children:[Object(k.jsx)("span",{className:Se("title"),children:"Ph\xf2ng:"})," ",Object(k.jsx)("span",{children:t})]}),Object(k.jsxs)("p",{className:Se("check-in-time"),children:[Object(k.jsx)("span",{className:Se("title"),children:"Nh\u1eadn ph\xf2ng:"})," ",Object(k.jsx)("span",{children:d.toLocaleString()})]}),Object(k.jsxs)("p",{className:Se("check-out-time"),children:[Object(k.jsx)("span",{className:Se("title"),children:"Tr\u1ea3 ph\xf2ng:"})," ",Object(k.jsx)("span",{children:m.toLocaleString()})]}),x.map(((e,t)=>Object(k.jsx)("p",{className:Se("additional-note"),children:Object(k.jsx)("span",{children:e})},t))),Object(k.jsxs)("p",{className:Se("total-amount"),children:[Object(k.jsx)("span",{children:"T\u1ed5ng ti\u1ec1n:"})," ",Object(k.jsxs)("span",{children:[u.toLocaleString()," VN\u0110"]})]}),Object(k.jsxs)("p",{className:Se("total-amount"),children:[Object(k.jsx)("span",{children:"Kh\xe1ch \u0111\u01b0a:"})," ",Object(k.jsx)("input",{ref:n,type:"text",onChange:e=>(()=>{console.log(n);const e=n.current.value.replace(/\./g,""),t=parseInt(e,10)||0,c=t.toLocaleString();n.current.value=c,s.current.innerText=(t-u).toLocaleString()<0?0:(t-u).toLocaleString()})(e.target.value),placeholder:"Nh\u1eadp s\u1ed1 ti\u1ec1n kh\xe1ch h\xe0ng"}),Object(k.jsxs)("span",{children:["Th\u1ed1i l\u1ea1i kh\xe1ch: ",Object(k.jsx)("b",{ref:s,children:"0"})]})]}),Object(k.jsxs)("div",{className:Se("control"),children:[Object(k.jsx)("button",{className:Se("button"),onClick:()=>R(),children:"L\u01b0u d\u1eef li\u1ec7u"}),Object(k.jsx)("button",{className:Se("button"),onClick:()=>i(),children:"T\u1ea1m t\xednh"})]}),Object(k.jsx)("div",{className:Se("footer-note"),children:Object(k.jsx)("span",{children:"Ph\u1ea7n m\u1ec1m \u0111\u01b0\u1ee3c t\u1ea1o b\u1edfi H\u1eefu \u0110\u1ee9c"})})]}))};return Object(k.jsx)("div",{id:Se("room"),children:e&&e.length>0?e.map((e=>Object(k.jsx)(ke,{room:e,handleInputChange:o,setCurrentTime:l,calculate:r},e.roomNumber))):Object(k.jsx)("span",{children:"Hi\u1ec7n t\u1ea1i ch\u01b0a c\xf3 ph\xf2ng n\xe0o \u0111\u01b0\u1ee3c th\xeam v\xe0o d\u1eef li\u1ec7u"})})},Te=n(29),we=n.n(Te);const Pe=l.a.bind(we.a);var Le=()=>{const{showModal:e,closeModal:t,modalContent:n}=D();return e?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:Pe("overlay")}),Object(k.jsx)("div",{className:Pe("modal-wrapper"),children:Object(k.jsx)("div",{className:`${Pe("modal-parent")}`,children:Object(k.jsxs)("div",{className:`${Pe("modal-content")}`,onClick:e=>e.stopPropagation(),children:[Object(k.jsx)("div",{onClick:t,className:Pe("modal-close"),children:"x"}),n]})})})]}):null};const De=l.a.bind(h.a);var Re=function(){return Object(k.jsx)(L,{children:Object(k.jsxs)("div",{className:De("App"),children:[Object(k.jsx)(Ne,{}),Object(k.jsx)(Ce,{}),Object(k.jsx)(Le,{})]})})};var He=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((t=>{let{getCLS:n,getFID:c,getFCP:s,getLCP:a,getTTFB:i}=t;n(e),c(e),s(e),a(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(Re,{})})),He()}],[[43,1,2]]]);
//# sourceMappingURL=main.d145505b.chunk.js.map